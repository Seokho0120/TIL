## React

리액트의 가장 큰 장점이자 사용하는 이유는 가상돔을 이용해 UI를 자동으로 업데이트 시켜주기 때문입니다. 그렇다면 가상돔(Virtual DOM)은 무엇일까요?

### DOM(Document Object Model)

브라우저는 화면을 그리기 위해 DOM(Document Object Model)이라는 개념을 사용합니다. DOM은 HTML파일 내용을 토대로 만들어지는데, Javascript로 수정할 수 있도록 만들어진, 웹페이지의 트리 구조 입니다.

- DOM은 브라우저가 화면을 그리기 위해서 필요한 정보가 트리 형태로 저장된 데이터

<br>

React에서 사용하는 가상돔(Virtual DOM)도 실제 DOM 내용에 기반하여 만들어집니다.

- 실제 DOM에는 브라우저가 화면을 그리는데 필요한 모든 정보가 들어있어 실제 DOM을 조작하는 작업은 무겁기 때문에 실제 DOM을 업데이트하여 렌더링하는 것은 성능저하에 직결됩니다.
- 현재 웹 어플리케이션(SPA)는 복잡하고 다양한 기능이 들어있기 때문에, 실제 DOM을 계속 조작하면 렌더링이 점점 많아져 느려지게 되고 결국 사용자는 불편함을 느낄 수 있습니다.

### 브라우저의 화면 변화

브라우저의 화면에 변화를 주기 위해서는 DOM의 조작이 필요합니다. 근데 DOM의 조작이 발생할때마다 화면에 배치를 잡는 과정, 색을 칠하는 과정을 거치게 됩니다. 이 과정을 DOM 조작 -> Layout -> Paint 이라고 부릅니다. React가 A에서 B로 화면에 변화를 주기 위해서 여러번의 DOM 조작이 필요할 수 있습니다. 이런 상황에서 DOM을 매번 계속 건드리게 된다면 조작이 발생할때마다 배치를 잡고 색을 칠하는 동작을 실행하게 됩니다. 이것은 매우 비효율적입니다.

### 가상돔(Virtual DOM)

위와 같은 이유로 React는 실제 DOM의 변경 사항을 빠르게 파악하고 반영하기 위해 내부적으로 **Virtual DOM** 을 만들어 관리합니다.
![image](https://user-images.githubusercontent.com/93597794/162891503-5b87ee11-d8df-4b9d-82fa-e9b62839f5e7.png)

화면이 변경해야되면 DOM의 조작을 Virtual DOM에서 계산합니다. 그리고나서 실제 DOM에서는 1번의 변경만 발생시킵니다. 이렇게 되면 요소를 배치하고 색을 칠하는 과정은 1번만 수행하게 되어 효율적입니다.
정리하자면, 리액트는 실제 돔을 매번 조작하면 비효율적이기에 가상돔(Virtual DOM)을 만들어서 화면의 변화가 필요할때마다 **가상돔에서 필요한 부분을 미리 계산을 한 후 실제돔에는 1번의 수정만 가하는 최적화를 구현**합니다.
